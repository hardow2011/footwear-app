<%= form_with model: [:admin, brand] do |f| %>
    <% if brand.errors.any? %>
        <div>
            <%= brand.errors.full_messages.to_sentence.capitalize %>
        </div>
    <% end %>
    <div class="field">
        <label class="label"><%= f.label :name %></label>
        <div class="control">
            <%= f.text_field :name, autofocus: true, class: 'input' %>
        </div>
        <%# TODO: add overview field. Maybe make text insted of string %>
    </div>
    <div class="field">
        <label class="label"><%= f.label :overview %></label>
        <div class="control">
            <%= f.text_area :overview, class: 'textarea' %>
        </div>
    </div>
    <div class="field">
        <div class="control is-flex is-justify-content-end">
            <%= f.submit class: 'button is-success' %>
        </div>
    </div>
<% end %>
<% unless brand.new_record? %>
    <div class="block">
        <div class="field">
            <label class="label">Collections</label>
            <%= turbo_frame_tag 'collections' do %>
                <%= render partial: 'admin/collections/collection', collection: brand.collections.order(:name), locals: { brand: brand } %>
            <% end %>
        </div>
    </div>
    <div class="box">
        <%= render partial: 'admin/brands/add_collection_btn', locals: { brand: brand } %>
    </div>
<% end %>
